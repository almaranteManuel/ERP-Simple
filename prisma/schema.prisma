generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = "file:./erp.db"
}

model Producto {
  id Int @id @default(autoincrement())
  codigo String
  descripcion String?
  precio Float
  precio_propio Float @default(0)
  stock Int @default(0)
  variante Float @default(0)
  proveedorId Int?
  proveedor Proveedor? @relation(fields: [proveedorId], references: [id])
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt
}

model Proveedor {
  id Int @id @default(autoincrement())
  nombre String
  telefono String?
  email String?
  direccion String?
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Compra {
  id Int @id @default(autoincrement())
  proveedorId Int
  proveedor Proveedor @relation(fields: [proveedorId], references: [id])
  fecha DateTime @default(now())
  total Float
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt
}

model Venta {
  id Int @id @default(autoincrement())
  fecha DateTime  @default(now())
  total Float
  productoId Int?
  producto Producto? @relation(fields: [productoId], references: [id])
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt
}

model Recordatorio {
  id Int @id @default(autoincrement())
  descripcion String?
  fecha DateTime
  completado Boolean  @default(false)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}